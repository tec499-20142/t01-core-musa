\section{Decodificação da Instrução}
	\subsection{Diagrama de Classe}
  \begin{figure}[H]
    \input{./classes/step2.tikz}
  \end{figure}
		
		\subsection{Definições de entrada e saída}
		
	\begin{center}
		\begin{longtable}[pos]{| l | c | c | m{7cm} |} \hline
			\multicolumn{1}{|c|}{\cellcolor[gray]{0.9}\textbf{Nome}} & 
			\multicolumn{1}{c|}{\cellcolor[gray]{0.9}\textbf{Tamanho}} & 
			\multicolumn{1}{c|}{\cellcolor[gray]{0.9}\textbf{Direção}} &
			\multicolumn{1}{c|}{\cellcolor[gray]{0.9}\textbf{Descrição}} \\ \hline
			\endhead
			\hline
			\endlastfoot
			
			instruction & 32 & entrada & Instrução a ser executada. \\ \hline
			writeData & 1 & entrada & Sinal de controle para escrita no registrador. \\ \hline
			writeRegister & 1 & entrada & Endereço do registrador de destino do writeData. \\ \hline
			word & 16 & entrada & é uma instrução. \\ \hline
			branch & 1 & saída & Sinal que informa ao circuito se a instrução é de branch. \\ \hline
			memRead & 1 & saída & Sinal de controle para realizar leitura da memória. \\ \hline
			memToReg & 1 & saída & Sinal de controle que define se o dado deve vir da ULA ou da memória \\ \hline
			aluOp & 2 & saída & Sinal de controle que define se o código funct da instrução deve ser levado em consideração ou não. \\ \hline
			memWrite & 1 & saída & Sinal de controle para realizar escrita na memória. \\ \hline
			aluSrc & 1 & saída & Sinal de controle que define qual entrada a ULA deve utilizar para realizar a operação. \\ \hline
			regWrite & 1 & saída & Sinal de controle para realizar escrita no registrador. \\ \hline
			jump & 1 & saída & Sinal que informa ao circuito se a operação é de jump. \\ \hline
		\end{longtable}
	\end{center}
    
    		\subsection{Tabela de microinstruções}

	\begin{center}
		\begin{longtable}[pos]{| c | c |} \hline
			\multicolumn{1}{|c|}{\cellcolor[gray]{0.9}\textbf{Código}} & 
			\multicolumn{1}{c|}{\cellcolor[gray]{0.9}\textbf{Instrução}} \\ \hline 
			\endhead
			\hline
			\endlastfoot
			
	    1 & Lógicas, Aritméticas, NOP e CMP\\ \hline
            2 & MUL \\ \hline
            3 & DIV \\ \hline
            4 & ADDI \\ \hline
            5 & ANDI \\ \hline
            6 & SUBI \\ \hline
            7 & ORI \\ \hline
            8 & SW \\ \hline
            9 & LW \\ \hline
            10 & JR\\ \hline
            11 & JPC\\ \hline
            12 & BRFL\\ \hline
            13 & CALL\\ \hline
            14 & RET\\ \hline
            15 & HALT\\ \hline
		\end{longtable}
	\end{center}

	\begin{center}
		\begin{longtable}[pos]{| c | c | c | c | c | c | c | c | c | c | c | c | c | c | c | c |} \hline
			\multicolumn{1}{|c|}{\cellcolor[gray]{0.9}\textbf{\small Código}} & 
			\multicolumn{1}{c|}{\cellcolor[gray]{0.9}\textbf{1}} & 
			\multicolumn{1}{c|}{\cellcolor[gray]{0.9}\textbf{2}} &
			\multicolumn{1}{c|}{\cellcolor[gray]{0.9}\textbf{3}} &
            \multicolumn{1}{c|}{\cellcolor[gray]{0.9}\textbf{4}} &
            \multicolumn{1}{c|}{\cellcolor[gray]{0.9}\textbf{5}} &
            \multicolumn{1}{c|}{\cellcolor[gray]{0.9}\textbf{6}} &
            \multicolumn{1}{c|}{\cellcolor[gray]{0.9}\textbf{7}} &
            \multicolumn{1}{c|}{\cellcolor[gray]{0.9}\textbf{8}} &
            \multicolumn{1}{c|}{\cellcolor[gray]{0.9}\textbf{9}} &
            \multicolumn{1}{c|}{\cellcolor[gray]{0.9}\textbf{10}} &
			\multicolumn{1}{c|}{\cellcolor[gray]{0.9}\textbf{11}} &
			\multicolumn{1}{c|}{\cellcolor[gray]{0.9}\textbf{12}} &
            \multicolumn{1}{c|}{\cellcolor[gray]{0.9}\textbf{13}} &
            \multicolumn{1}{c|}{\cellcolor[gray]{0.9}\textbf{14}} &
            \multicolumn{1}{c|}{\cellcolor[gray]{0.9}\textbf{15}} \\ \hline
			\endhead
			\hline
			\endlastfoot
			
			\small regDst 			& 1   & 1   & 1   & 0   & 0   & 0   & 0   & 0   & 0   & 0   & 0   & 0   & 0   & 0   & 0   \\ \hline
            \small memRead 			& 0   & 0   & 0   & 0   & 0   & 0   & 0   & 0   & 1   & 0   & 0   & 0   & 0   & 0   & 0   \\ \hline
            \small memToReg 		& 0   & 0   & 0   & 0   & 0   & 0   & 0   & 0   & 0   & 0   & 0   & 0   & 0   & 0   & 0   \\ \hline
            \small aluOp 			& \small 010 & \small 010 & \small 010 & \small 000 & \small 011 & \small 001 & \small 100 & \small 000 & \small 000 & \small 000 & \small 000 & \small 101 & \small 000 & \small 000 & \small 000 \\ \hline
            \small memWrite 		& 0   & 0   & 0   & 0   & 0   & 0   & 0   & 1   & 0   & 0   & 0   & 0   & 0   & 0   & 0   \\ \hline
            \small regWrite 		& 1   & 1   & 1   & 1   & 1   & 1   & 1   & 0   & 1   & 0   & 0   & 0   & 0   & 0   & 0   \\ \hline
            \small data\_a\_s 		& 10  & 10  & 10  & 10  & 10  & 10  & 10  & 10  & 10  & 00  & 00  & 10  & 00  & 00  & 00  \\ \hline
            \small data\_b\_s 		& 01  & 01  & 01  & 00  & 00  & 00  & 00  & 00  & 00  & 00  & 10  & 00  & 00  & 00  & 00  \\ \hline
            \small pcSrc 			& \small 010 & \small 010 & \small 010 & \small 010   & \small 010 & \small 010 & \small 010 & \small 010 & \small 010 & \small 001 & \small 100 & \small 001 & \small 001 & \small 000 & \small 110 \\ \hline
            \small pop 				& X   & X   & X   & X   & X   & X   & X   & X   & X   & X   & X   & X   & X   & 1   & X   \\ \hline
            \small push 			& X   & X   & X   & X   & X   & X   & X   & X   & X   & X   & X   & X   & 1   & X   & X   \\ \hline

		\end{longtable}
	\end{center}
   
	
	\subsection{Datapath Interno}
	
	\begin{figure}[ht]
		\begin{center}
		\includegraphics{./datapath/Graphic2.eps}
		\caption*{Datapath do estágio 2.}
		\end{center}
	\end{figure}
